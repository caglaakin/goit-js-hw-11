{"version":3,"file":"index.js","sources":["../src/js/main.js"],"sourcesContent":["import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst form = document.querySelector('.form');\nconst searchInput = document.querySelector('.searchInput');\nconst searchButton = document.querySelector('.searchButton');\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\nconst API_KEY = \"51442110-4fde2839a6cf4cc45b6823f02\";\n\nlet lightbox = new SimpleLightbox('.gallery a.gallery-link', {\n  navText: ['❮', '❯'],\n  captionsData: 'alt',\n  captionDelay: 250,\n  captionPosition: 'bottom',\n  close: true,\n  closeText: '×',\n  animationSlide: true,\n  animationSpeed: 250,\n  enableKeyboard: true,\n  overlay: true,\n  overlayOpacity: 0.8,\n  sourceAttr: 'href',\n  zoom: false,\n});\n\nfunction hideLoader() {\n    loader.classList.add('is-hidden');\n}\n\nfunction showLoader() { \n    loader.classList.remove('is-hidden');\n}\n\nfunction createGalleryMarkup(images) {\n    return images.map((image) => { \n        return `\n        <li class=\"gallery-item\">\n            <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n                <img class=\"gallery-image\" src=\"${image.webformatURL}\" alt=\"${image.tags}\" />\n            </a>\n            <div class=\"image-info\">\n                <p class=\"info\"><b>Likes</b>${image.likes}</p>\n                <p class=\"info\"><b>Views</b>${image.views}</p>\n                <p class=\"info\"><b>Comments</b>${image.comments}</p>\n                <p class=\"info\"><b>Downloads</b>${image.downloads}</p>\n            </div>\n        </li>`;\n    }).join('');\n}\n\nform.addEventListener(\"submit\", (event) => { \n    event.preventDefault();\n\n    const query = searchInput.value.trim();\n\n    if (query ===\"\") {\n        iziToast.error({\n          message: 'Please enter a search term.',\n          position: 'topRight',\n          backgroundColor: '#EF4040',\n          messageColor: 'white',\n          progressBarColor: '#B51B1B',\n          closeOnClick: true,\n          closeOnEscape: true,\n          close: true,\n          timeout: 3000,\n          maxWidth: '450px',\n        });\n        return;\n    }\n\n    gallery.innerHTML = '';\n    showLoader();\n\n    const searchParams = new URLSearchParams({\n        key: API_KEY,\n        q: query,\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: true,\n    });\n\n    fetch(`https://pixabay.com/api/?${searchParams}`)\n        .then((response) => { \n            if (!response.ok) {\n                throw new Error(`HTTP error! Status: ${response.status}`);\n            }\n            return response.json();\n        })\n        .then((data) => { \n            const fetchImages = data.hits;\n\n            if (fetchImages.length === 0) { \n                iziToast.error({\n                  message:'Sorry, there are no images matching your search query. Please try again!',\n                  position: 'topRight',\n                  backgroundColor: '#EF4040',\n                  messageColor: 'white',\n                  progressBarColor: '#B51B1B',\n                  closeOnClick: true,\n                  closeOnEscape: true,\n                  close: true,\n                  timeout: 3000,\n                  maxWidth: '450px',\n                });\n                return;\n            }\n\n            gallery.innerHTML = createGalleryMarkup(fetchImages);\n            lightbox.refresh();\n\n        })\n        .catch((error) => { \n            iziToast.error({\n                title: 'Error',\n                message: `An error occurred while fetching images: ${error.message}`,\n                position: 'topRight',\n            });\n            console.error('Error fetching images:', error);\n        })\n        .finally(() => { \n            hideLoader();\n            searchInput.value = '';\n        });\n\n});"],"names":["form","searchInput","gallery","loader","API_KEY","lightbox","SimpleLightbox","hideLoader","showLoader","createGalleryMarkup","images","image","event","query","iziToast","searchParams","response","data","fetchImages","error"],"mappings":"6vBAKA,MAAMA,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAc,SAAS,cAAc,cAAc,EACpC,SAAS,cAAc,eAAe,EAC3D,MAAMC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAEzCC,EAAU,qCAEhB,IAAIC,EAAW,IAAIC,EAAe,0BAA2B,CAC3D,QAAS,CAAC,IAAK,GAAG,EAClB,aAAc,MACd,aAAc,IACd,gBAAiB,SACjB,MAAO,GACP,UAAW,IACX,eAAgB,GAChB,eAAgB,IAChB,eAAgB,GAChB,QAAS,GACT,eAAgB,GAChB,WAAY,OACZ,KAAM,EACR,CAAC,EAED,SAASC,GAAa,CAClBJ,EAAO,UAAU,IAAI,WAAW,CACpC,CAEA,SAASK,GAAa,CAClBL,EAAO,UAAU,OAAO,WAAW,CACvC,CAEA,SAASM,EAAoBC,EAAQ,CACjC,OAAOA,EAAO,IAAKC,GACR;AAAA;AAAA,4CAE6BA,EAAM,aAAa;AAAA,kDACbA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA,8CAG1CA,EAAM,KAAK;AAAA,8CACXA,EAAM,KAAK;AAAA,iDACRA,EAAM,QAAQ;AAAA,kDACbA,EAAM,SAAS;AAAA;AAAA,cAG5D,EAAE,KAAK,EAAE,CACd,CAEAX,EAAK,iBAAiB,SAAWY,GAAU,CACvCA,EAAM,eAAc,EAEpB,MAAMC,EAAQZ,EAAY,MAAM,KAAI,EAEpC,GAAIY,IAAS,GAAI,CACbC,EAAS,MAAM,CACb,QAAS,8BACT,SAAU,WACV,gBAAiB,UACjB,aAAc,QACd,iBAAkB,UAClB,aAAc,GACd,cAAe,GACf,MAAO,GACP,QAAS,IACT,SAAU,OACpB,CAAS,EACD,MACH,CAEDZ,EAAQ,UAAY,GACpBM,IAEA,MAAMO,EAAe,IAAI,gBAAgB,CACrC,IAAKX,EACL,EAAGS,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,EAED,MAAM,4BAA4BE,CAAY,EAAE,EAC3C,KAAMC,GAAa,CAChB,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAM,uBAAuBA,EAAS,MAAM,EAAE,EAE5D,OAAOA,EAAS,MAC5B,CAAS,EACA,KAAMC,GAAS,CACZ,MAAMC,EAAcD,EAAK,KAEzB,GAAIC,EAAY,SAAW,EAAG,CAC1BJ,EAAS,MAAM,CACb,QAAQ,2EACR,SAAU,WACV,gBAAiB,UACjB,aAAc,QACd,iBAAkB,UAClB,aAAc,GACd,cAAe,GACf,MAAO,GACP,QAAS,IACT,SAAU,OAC5B,CAAiB,EACD,MACH,CAEDZ,EAAQ,UAAYO,EAAoBS,CAAW,EACnDb,EAAS,QAAO,CAE5B,CAAS,EACA,MAAOc,GAAU,CACdL,EAAS,MAAM,CACX,MAAO,QACP,QAAS,4CAA4CK,EAAM,OAAO,GAClE,SAAU,UAC1B,CAAa,EACD,QAAQ,MAAM,yBAA0BA,CAAK,CACzD,CAAS,EACA,QAAQ,IAAM,CACXZ,IACAN,EAAY,MAAQ,EAChC,CAAS,CAET,CAAC"}